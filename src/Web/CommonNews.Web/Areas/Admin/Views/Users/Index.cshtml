@using CommonNews.Web.Areas.Admin.Models
@using CommonNews.Web.ViewModels.Pagination
@model PageViewModel<UsersViewModel>
<h2>Users</h2>
<div class="row">
    <div class="col-md-12">
        <div class="panel panel-default">
            <div class="panel-heading row">
                <div class="col-md-5">User Id</div>
                <div class="col-md-2">UserName</div>
                <div class="col-md-4">E-mail</div>
                <div class="col-md-2"></div>
            </div>


            @foreach (var item in Model.Items)
            {
                <div class="panel-body row">
                    <div class="col-md-5">
                        @Html.DisplayFor(modelItem => item.Id)
                    </div>
                    <div class="col-md-2">
                        @Html.DisplayFor(modelItem => item.UserName)
                    </div>
                    <div class="col-md-3">
                        @Html.DisplayFor(modelItem => item.Email)
                    </div>
                    <div class="col-md-2">
                        @*@Html.ActionLink("Edit", "Edit", "Users", new { id = item.Id }, new { @class = "btn btn-warning btn-xs" })*@
                        @Html.ActionLink("Delete", "Delete", "Users", new { id = item.Id }, new { @class = "btn btn-danger btn-xs" })
                    </div>
                </div>
            }
            @if (Model.Pagination.EndPage > 1)
            {
            <ul class="pagination">
                @if (Model.Pagination.CurrentPage > 1)
                {
                    <li>
                        <a href="~/admin/users/Index">First</a>
                    </li>
                    <li>
                        <a href="~/admin/users/Index?page=@(Model.Pagination.CurrentPage - 1)">Previous</a>
                    </li>
                }
                @for (var page = Model.Pagination.StartPage; page <= Model.Pagination.EndPage; page++)
                {
                    <li class="@(page == Model.Pagination.CurrentPage ? "active" : "")">
                        <a href="~/admin/users/Index?page=@page">@page</a>
                    </li>}
                @if (Model.Pagination.CurrentPage < Model.Pagination.TotalPages)
                {
                    <li>
                        <a href="~/admin/users/Index?page=@(Model.Pagination.CurrentPage + 1)">Next</a>
                    </li>
                    <li>
                        <a href="~/admin/users/Index?page=@(Model.Pagination.TotalPages)">Last</a>
                    </li>
                }
            </ul>
            }
        </div>
    </div>
</div>
